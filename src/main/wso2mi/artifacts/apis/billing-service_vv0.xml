<?xml version="1.0" encoding="UTF-8"?>
<api name="billing-service" context="/api/v2/billing" version="v0" version-type="context" xmlns="http://ws.apache.org/ns/synapse">
    <resource methods="PUT" uri-template="/invoices/{id}/pay">
        <inSequence><!--This is generated API skeleton.-->
            <property name="id" scope="default" type="JSON" expression="get-property('uri.var.id')"/><!--Business Logic Goes Here-->
            <send>
                <endpoint>
                    <address uri="http://localhost:8081/"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence/>
    </resource>
    <resource methods="POST" url-mapping="/invoices">
        <inSequence><!--This is generated API skeleton.--><!--Business Logic Goes Here-->
           <send>
                <endpoint>
                    <address uri="http://localhost:8081/"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence/>
    </resource>
    <resource methods="GET" uri-template="/invoices/{id}">
        <inSequence><!--This is generated API skeleton.-->
            <property name="id" expression="get-property('uri.var.id')"/><!--Business Logic Goes Here-->
           <send>
                <endpoint>
                    <address uri="http://localhost:8081/"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence/>
    </resource>
    <resource methods="GET" url-mapping="/invoices/pending">
        <inSequence><!--This is generated API skeleton.--><!--Business Logic Goes Here-->
             <send>
                <endpoint>
                    <address uri="http://localhost:8081/"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence/>
    </resource>
    <resource methods="GET" uri-template="/clients/{clientId}/total">
        <inSequence><!--This is generated API skeleton.-->
            <property name="clientId" expression="get-property('uri.var.clientId')"/><!--Business Logic Goes Here-->
            <send>
                <endpoint>
                    <address uri="http://localhost:8081"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence/>
    </resource>
    <resource methods="GET" uri-template="/clients/{clientId}/invoices">
        <inSequence><!--This is generated API skeleton.-->
            <property name="clientId" expression="get-property('uri.var.clientId')"/><!--Business Logic Goes Here-->
            <send>
                <endpoint>
                    <address uri="http://localhost:8081"/>
                </endpoint>
            </send>
            <respond/>
        </inSequence>
        <faultSequence/>
    </resource>
</api>